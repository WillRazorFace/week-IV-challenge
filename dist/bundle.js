(()=>{"use strict";const e=document.getElementById("survey-form");new class{sectionElement;backButton;nextButton;skipButton;submitPlaceholder;surveyImageElement;images;currentSection;constructor(e,t,n,i,s,o,r=["img/two.png","img/three.png","img/four.png","img/five.png"],c=1){this.sectionElement=e,this.backButton=t,this.nextButton=n,this.skipButton=i,this.submitPlaceholder=s,this.surveyImageElement=o,this.images=r,this.currentSection=c,this.backButton=document.getElementById("back-button"),this.nextButton=document.getElementById("next-button"),this.skipButton=document.getElementById("skip-button"),this.submitPlaceholder=document.getElementById("submit-placeholder"),this.surveyImageElement=document.getElementById("poll-img"),this.backButton.addEventListener("click",this.backButtonListener.bind(this)),this.nextButton.addEventListener("click",this.nextButtonListener.bind(this)),this.skipButton.addEventListener("click",this.skipButtonListener.bind(this)),this.submitPlaceholder.addEventListener("click",this.submitPlaceholderListener.bind(this)),this.sectionElement.querySelector("#section-submit-1").addEventListener("click",(e=>{e.preventDefault();const t=this.sectionElement.querySelector("#form-section-1"),n=t.querySelectorAll("select")[0].value,i=t.querySelector('input[name="market"]:checked');""!=n?i?(localStorage.setItem("accountStatus",n),localStorage.setItem("operatingMarket",i.value),this.renderSection("next")):alert("Por favor preencha o seu mercado de operação"):alert("Por favor preencha o status de sua conta")})),this.sectionElement.querySelector("#section-submit-2").addEventListener("click",(e=>{e.preventDefault();const t=this.sectionElement.querySelector("#form-section-2"),n=t.querySelectorAll("select")[0].value,i=[t.querySelector("#books"),t.querySelector("#youtube"),t.querySelector("#online"),t.querySelector("#experience")],s=[];i.forEach((e=>{e.checked&&s.push(e.value)})),""!=n?0!=s.length?(localStorage.setItem("investmentFrequency",n),localStorage.setItem("trainingResources",s.join()),this.renderSection("next")):alert("Por favor selecione ao menos um tipo de training resource."):alert("Por favor selecione uma frequência de investimento")}))}renderSection(e){const t="previous"===e?this.currentSection-1:this.currentSection+1;this.surveyImageElement.src=this.images[t-1];const n=this.sectionElement.querySelector(`#form-section-${this.currentSection}`),i=this.sectionElement.querySelector(`#form-section-${t}`);n.hidden=!0,i.hidden=!1;const s=document.getElementById("submit-placeholder");4===t?(this.skipButton.hidden=!0,this.nextButton.hidden=!0,s.hidden=!1):(this.skipButton.hidden=!1,this.nextButton.hidden=!1,s.hidden=!0),this.currentSection=t}backButtonListener(e){e.preventDefault(),1===this.currentSection?window.location.href="/survey.html":this.renderSection("previous")}nextButtonListener(e){e.preventDefault(),this.submitCurrentSection()}skipButtonListener(e){e.preventDefault(),this.renderSection("next")}submitPlaceholderListener(e){e.preventDefault(),this.submitCurrentSection()}submitCurrentSection(){this.sectionElement.querySelector(`#section-submit-${this.currentSection}`).click()}}(e)})();