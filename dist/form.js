(()=>{"use strict";const e=document.getElementById("survey-form");new class{sectionElement;backButton;nextButton;skipButton;submitPlaceholder;surveyImageElement;images;currentSection;constructor(e,t,n,i,o,s,r=["img/two.png","img/three.png","img/four.png","img/five.png"],l=1){this.sectionElement=e,this.backButton=t,this.nextButton=n,this.skipButton=i,this.submitPlaceholder=o,this.surveyImageElement=s,this.images=r,this.currentSection=l,this.backButton=document.getElementById("back-button"),this.nextButton=document.getElementById("next-button"),this.skipButton=document.getElementById("skip-button"),this.submitPlaceholder=document.getElementById("submit-placeholder"),this.surveyImageElement=document.getElementById("poll-img"),this.backButton.addEventListener("click",this.backButtonListener.bind(this)),this.nextButton.addEventListener("click",this.nextButtonListener.bind(this)),this.skipButton.addEventListener("click",this.skipButtonListener.bind(this)),this.submitPlaceholder.addEventListener("click",this.submitPlaceholderListener.bind(this)),this.sectionElement.querySelector("#section-submit-1").addEventListener("click",(e=>{e.preventDefault();const t=this.sectionElement.querySelector("#form-section-1"),n=t.querySelectorAll("select")[0].value,i=t.querySelector('input[name="market"]:checked');""!=n?i?(localStorage.setItem("accountStatus",n),localStorage.setItem("operatingMarket",i.value),this.renderSection("next")):alert("Por favor preencha o seu mercado de operação"):alert("Por favor preencha o status de sua conta")})),this.sectionElement.querySelector("#section-submit-2").addEventListener("click",(e=>{e.preventDefault();const t=this.sectionElement.querySelector("#form-section-2"),n=t.querySelectorAll("select")[0].value,i=[t.querySelector("#books"),t.querySelector("#youtube"),t.querySelector("#online"),t.querySelector("#experience")],o=[];i.forEach((e=>{e.checked&&o.push(e.value)})),""!=n?0!=o.length?(localStorage.setItem("investmentFrequency",n),localStorage.setItem("trainingResources",o.join()),this.renderSection("next")):alert("Por favor selecione ao menos um tipo de training resource."):alert("Por favor selecione uma frequência de investimento.")})),this.sectionElement.querySelector("#section-submit-3").addEventListener("click",(e=>{e.preventDefault();const t=this.sectionElement.querySelector("#form-section-3").querySelectorAll("textarea")[0].value;""!=t?(localStorage.setItem("details",t),this.renderSection("next")):alert("Por favor relate algo")})),this.sectionElement.querySelector("#section-submit-4").addEventListener("click",(e=>{e.preventDefault();const t=this.sectionElement.querySelector("#form-section-4"),n=t.querySelector("#full-name").value,i=t.querySelector("#email").value,o=t.querySelector("#age").value,s=/^[a-zA-Z ]+$/.test(n),r=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(i);s?r?""!=o&&"0"!=o?(localStorage.setItem("fullName",n),localStorage.setItem("email",i),localStorage.setItem("age",o),window.location.href="/final.html"):alert("Por favor, digite sua idade corretamente"):alert("O e-mail inserido é inválido"):alert("Por favor digite o seu nome completo")}))}renderSection(e){const t="previous"===e?this.currentSection-1:this.currentSection+1;this.surveyImageElement.src=this.images[t-1];const n=this.sectionElement.querySelector(`#form-section-${this.currentSection}`),i=this.sectionElement.querySelector(`#form-section-${t}`);n.hidden=!0,i.hidden=!1;const o=document.getElementById("submit-placeholder");if(4===t){const e=document.getElementById("button-group-1");e.style.gridTemplateColumns="auto",e.style.gridTemplateRows="1fr 1fr",e.style.gap="20%",this.skipButton.style.padding="0.5rem",this.skipButton.style.fontSize="1.3rem",this.nextButton.style.padding="0.5rem",this.nextButton.style.fontSize="1.3rem",this.skipButton.hidden=!0,this.nextButton.hidden=!0,o.hidden=!1}else{const e=document.getElementById("button-group-1");e.style.gridTemplateColumns="1fr 1fr",e.style.gridTemplateRows="auto",e.style.gap="2%",this.skipButton.style.padding="0.25rem",this.skipButton.style.fontSize="1.25rem",this.nextButton.style.padding="0.25rem",this.nextButton.style.fontSize="1.25rem",this.skipButton.hidden=!1,this.nextButton.hidden=!1,o.hidden=!0}this.currentSection=t}backButtonListener(e){e.preventDefault(),1===this.currentSection?window.location.href="/survey.html":this.renderSection("previous")}nextButtonListener(e){e.preventDefault(),this.submitCurrentSection()}skipButtonListener(e){e.preventDefault(),this.renderSection("next")}submitPlaceholderListener(e){e.preventDefault(),this.submitCurrentSection()}submitCurrentSection(){this.sectionElement.querySelector(`#section-submit-${this.currentSection}`).click()}}(e)})();